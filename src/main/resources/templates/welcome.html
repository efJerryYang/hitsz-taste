<!DOCTYPE html>
<html>
<head>
    <title>HITSZ Taste</title>
    <style>
        /* Add some styling to position the form on the right side of the page */
        form {
            float: right;
            width: 250px;
            margin: 0;
        }

        /* Add some spacing between form fields */
        form div {
            margin: 10px 0;
        }

        /* Center the form on the page */
        form, h1 {
            text-align: center;
        }

        /* Center the title and description */
        h1, p {
            text-align: center;
        }

        /* Align and set the same size for the input boxes */
        label, input {
            display: inline-block;
            width: 100px;
            text-align: right;
            margin-right: 10px;
        }

        /* Set the size of the login button */
        input[type="submit"] {
            width: auto;
            margin-right: 100px;
            height: auto;
        }

        noscript {
            color: red;
            font-weight: bold;
        }
    </style>
</head>
<body>
<h1>Welcome to HITSZ Taste!</h1>
<p>
    This is a timely, affordable, safe, tasty, and easy to use platform for campus food delivery.
</p>
<p>
    With HITSZ Taste, you can order food from your favorite cafeteria and have it delivered right to your doorstep.
    Simply login or sign up to start ordering.
</p>
<!-- Import the crypto-js library -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js"></script>
<!-- Use javascript to handle the action -->
<script>
    function validateLoginForm() {
        var username = document.forms["loginForm"]["username"].value;
        var password = document.forms["loginForm"]["password"].value;

        if (username == "") {
            alert("Username must be filled out. (username/phone/email)");
            return false;
        }

        if (password == "") {
            alert("Password must be filled out");
            return false;
        }

        if (password.length < 6) {
            alert("Password must be at least 6 characters");
            return false;
        }

        if (password.length > 20) {
            alert("Password must be at most 20 characters");
            return false;
        }

        // TODO: Add additional validation checks for the form fields as needed
        // Encrypt the password
        // Set the encrypted password to the password field
        document.getElementById("password").value = CryptoJS.SHA256(password).toString();
        document.getElementById("jsEnabled").value = "true";
    }
</script>

<form name="loginForm" th:action="@{/login}" onsubmit="return validateLoginForm()" method="post">
    <div>
        <label for="username">Username:</label>
        <input type="text" id="username" name="username"/>
    </div>
    <div>
        <label for="password">Password:</label>
        <input type="password" id="password" name="password"/>
    </div>
    <div>
        <input type="submit" value="Login"/>
    </div>
    <input type="hidden" id="jsEnabled" name="jsEnabled" value="false"/>
</form>
<p>
    Don't have an account? <a href="signup">Sign up here</a>.
</p>
<noscript>
    <p> Warning: JavaScript is disabled in your browser, your password will not be encrypted before being sent to the
        server.</p>
    <p> To protect your password, make sure that you have an https connection enabled.</p>
</noscript>
</body>
</html>
